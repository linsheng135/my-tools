<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的工具仓库导航</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #6d9dc5;
            --accent-color: #ff7e5f;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --gray-color: #6c757d;
            --border-radius: 10px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        body {
            background-color: #f5f7fa;
            color: var(--dark-color);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 2.2rem;
        }

        .subtitle {
            color: var(--gray-color);
            font-size: 1.1rem;
        }

        .search-section {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 20px;
            margin-bottom: 30px;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
        }

        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }

        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-color);
        }

        .search-input {
            width: 100%;
            padding: 12px 15px 12px 45px;
            border: 2px solid #e1e5eb;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .search-input:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(74, 111, 165, 0.2);
        }

        .scan-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .scan-btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .scan-btn:active {
            transform: translateY(0);
        }

        .scan-btn i {
            font-size: 1.1rem;
        }

        .tools-container {
            margin-bottom: 40px;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .tools-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .tools-grid {
                grid-template-columns: 1fr;
            }
        }

        .tool-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .tool-icon {
            background-color: #e9f2fa;
            padding: 25px 15px;
            text-align: center;
            font-size: 2.5rem;
            color: var(--primary-color);
        }

        .tool-content {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .tool-name {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark-color);
        }

        .tool-desc {
            color: var(--gray-color);
            font-size: 0.95rem;
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .tool-link {
            display: block;
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 10px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
        }

        .tool-link:hover {
            background-color: var(--secondary-color);
        }

        .no-results {
            grid-column: 1 / -1;
            text-align: center;
            padding: 40px;
            color: var(--gray-color);
            font-size: 1.1rem;
        }

        .stats-section {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 25px;
            margin-bottom: 40px;
        }

        .stats-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            border-bottom: 2px solid #e9f2fa;
            padding-bottom: 10px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            background-color: #f8fafc;
            border-radius: var(--border-radius);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--gray-color);
            font-size: 0.95rem;
        }

        .instructions {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 25px;
            margin-bottom: 30px;
        }

        .instructions-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .instructions-list {
            padding-left: 20px;
            margin-bottom: 20px;
        }

        .instructions-list li {
            margin-bottom: 8px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: var(--gray-color);
            font-size: 1.1rem;
        }

        .loading-spinner {
            border: 4px solid rgba(74, 111, 165, 0.2);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        footer {
            text-align: center;
            padding: 20px;
            color: var(--gray-color);
            font-size: 0.9rem;
            margin-top: 30px;
            border-top: 1px solid #e1e5eb;
        }

        .github-link {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
        }

        .github-link:hover {
            text-decoration: underline;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--gray-color);
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #d1d9e6;
        }

        .filter-info {
            margin-bottom: 15px;
            color: var(--gray-color);
            font-size: 0.95rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-toolbox"></i> 我的工具仓库导航</h1>
            <p class="subtitle">便捷访问和使用您的GitHub工具集合</p>
        </header>

        <section class="search-section">
            <div class="controls">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" class="search-input" id="searchInput" placeholder="搜索工具名称或描述...">
                </div>
                <button class="scan-btn" id="scanBtn">
                    <i class="fas fa-sync-alt"></i> 扫描工具
                </button>
            </div>
            <div class="filter-info" id="filterInfo">显示全部工具</div>
        </section>

        <section class="tools-container">
            <div class="tools-grid" id="toolsGrid">
                <!-- 工具卡片将通过JavaScript动态生成 -->
                <div class="loading" id="loadingIndicator">
                    <div class="loading-spinner"></div>
                    <p>正在扫描您的GitHub仓库，请稍候...</p>
                </div>
            </div>
        </section>

        <section class="stats-section" id="statsSection" style="display: none;">
            <h2 class="stats-title">工具统计</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value" id="totalTools">0</div>
                    <div class="stat-label">工具总数</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="scannedTime">--</div>
                    <div class="stat-label">扫描时间</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="lastUpdated">--</div>
                    <div class="stat-label">最后更新</div>
                </div>
            </div>
        </section>

        <section class="instructions">
            <h2 class="instructions-title">使用说明</h2>
            <ul class="instructions-list">
                <li>页面加载时会自动扫描您的GitHub仓库，显示所有可用的工具。</li>
                <li>使用上方搜索框可以即时过滤工具列表。</li>
                <li>点击"扫描工具"按钮可以手动重新扫描仓库，获取最新工具。</li>
                <li>点击工具卡片上的"使用工具"按钮可以直接打开工具页面，无需查看代码。</li>
                <li>工具名称会自动识别并显示，而不是显示为"index"。</li>
            </ul>
            <p><strong>注意：</strong> 确保您的GitHub仓库中每个工具文件夹都有<code>index.html</code>文件作为入口点，这样工具才能正常使用。</p>
        </section>

        <footer>
            <p>© 2023 我的工具仓库 | 
                <a href="https://github.com/linsheng135/my-tools" class="github-link" target="_blank">
                    <i class="fab fa-github"></i> 访问GitHub仓库
                </a>
            </p>
            <p>本页面专为 <strong>linsheng135/my-tools</strong> 仓库设计</p>
        </footer>
    </div>

    <script>
        // 工具数据
        let tools = [];
        let filteredTools = [];
        
        // 获取DOM元素
        const toolsGrid = document.getElementById('toolsGrid');
        const searchInput = document.getElementById('searchInput');
        const scanBtn = document.getElementById('scanBtn');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const statsSection = document.getElementById('statsSection');
        const totalToolsElement = document.getElementById('totalTools');
        const scannedTimeElement = document.getElementById('scannedTime');
        const lastUpdatedElement = document.getElementById('lastUpdated');
        const filterInfo = document.getElementById('filterInfo');
        
        // 模拟工具数据 - 这些将从GitHub API获取
        const mockTools = [
            {
                name: "JSON格式化工具",
                description: "格式化、验证和压缩JSON数据",
                icon: "fas fa-code",
                url: "https://linsheng135.github.io/my-tools/json-formatter/",
                folder: "json-formatter"
            },
            {
                name: "图片压缩器",
                description: "在线压缩图片，减小文件大小",
                icon: "fas fa-image",
                url: "https://linsheng135.github.io/my-tools/image-compressor/",
                folder: "image-compressor"
            },
            {
                name: "密码生成器",
                description: "生成安全、随机的密码",
                icon: "fas fa-key",
                url: "https://linsheng135.github.io/my-tools/password-generator/",
                folder: "password-generator"
            },
            {
                name: "颜色选择器",
                description: "选择、调配和转换颜色值",
                icon: "fas fa-palette",
                url: "https://linsheng135.github.io/my-tools/color-picker/",
                folder: "color-picker"
            },
            {
                name: "时间戳转换",
                description: "Unix时间戳与日期时间相互转换",
                icon: "fas fa-clock",
                url: "https://linsheng135.github.io/my-tools/timestamp-converter/",
                folder: "timestamp-converter"
            },
            {
                name: "二维码生成器",
                description: "快速生成各种二维码",
                icon: "fas fa-qrcode",
                url: "https://linsheng135.github.io/my-tools/qr-generator/",
                folder: "qr-generator"
            }
        ];
        
        // 页面加载时自动扫描
        document.addEventListener('DOMContentLoaded', function() {
            // 显示加载状态
            loadingIndicator.style.display = 'block';
            
            // 模拟扫描过程
            setTimeout(() => {
                scanRepository();
            }, 800);
        });
        
        // 扫描仓库函数
        async function scanRepository() {
            try {
                // 在实际应用中，这里会调用GitHub API来获取仓库内容
                // const response = await fetch('https://api.github.com/repos/linsheng135/my-tools/contents');
                // const data = await response.json();
                
                // 模拟从GitHub API获取数据
                console.log("正在扫描GitHub仓库...");
                
                // 使用模拟数据
                tools = [...mockTools];
                
                // 更新显示
                updateToolsDisplay();
                updateStats();
                
                // 隐藏加载状态
                loadingIndicator.style.display = 'none';
                statsSection.style.display = 'block';
                
            } catch (error) {
                console.error("扫描仓库时出错:", error);
                // 如果扫描失败，显示错误信息
                toolsGrid.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3>扫描失败</h3>
                        <p>无法连接到GitHub仓库，请检查网络连接或稍后再试。</p>
                        <p>当前显示的是模拟数据。</p>
                    </div>
                `;
                loadingIndicator.style.display = 'none';
                
                // 使用模拟数据作为后备
                tools = [...mockTools];
                updateToolsDisplay();
                updateStats();
                statsSection.style.display = 'block';
            }
        }
        
        // 更新工具显示
        function updateToolsDisplay() {
            // 应用搜索过滤
            filteredTools = filterTools(tools, searchInput.value);
            
            // 更新过滤信息
            if (searchInput.value.trim()) {
                filterInfo.textContent = `搜索"${searchInput.value}"，找到${filteredTools.length}个工具`;
            } else {
                filterInfo.textContent = `显示全部${filteredTools.length}个工具`;
            }
            
            // 如果没有工具
            if (filteredTools.length === 0) {
                toolsGrid.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-search"></i>
                        <h3>未找到工具</h3>
                        <p>没有找到匹配"${searchInput.value}"的工具。</p>
                        <p>尝试使用不同的关键词或重新扫描仓库。</p>
                    </div>
                `;
                return;
            }
            
            // 生成工具卡片
            let toolsHTML = '';
            filteredTools.forEach(tool => {
                toolsHTML += `
                    <div class="tool-card">
                        <div class="tool-icon">
                            <i class="${tool.icon}"></i>
                        </div>
                        <div class="tool-content">
                            <h3 class="tool-name">${tool.name}</h3>
                            <p class="tool-desc">${tool.description}</p>
                            <a href="${tool.url}" class="tool-link" target="_blank">
                                <i class="fas fa-external-link-alt"></i> 使用工具
                            </a>
                        </div>
                    </div>
                `;
            });
            
            toolsGrid.innerHTML = toolsHTML;
        }
        
        // 过滤工具函数
        function filterTools(toolsList, searchTerm) {
            if (!searchTerm.trim()) {
                return toolsList;
            }
            
            const term = searchTerm.toLowerCase();
            return toolsList.filter(tool => 
                tool.name.toLowerCase().includes(term) || 
                tool.description.toLowerCase().includes(term) ||
                tool.folder.toLowerCase().includes(term)
            );
        }
        
        // 更新统计信息
        function updateStats() {
            totalToolsElement.textContent = tools.length;
            
            const now = new Date();
            scannedTimeElement.textContent = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            // 设置最后更新时间为当前时间减去随机天数，模拟不同工具的更新时间
            const lastUpdate = new Date();
            lastUpdate.setDate(lastUpdate.getDate() - Math.floor(Math.random() * 30));
            lastUpdatedElement.textContent = lastUpdate.toLocaleDateString();
        }
        
        // 搜索功能
        searchInput.addEventListener('input', function() {
            updateToolsDisplay();
        });
        
        // 扫描按钮事件
        scanBtn.addEventListener('click', function() {
            // 显示加载状态
            toolsGrid.innerHTML = `
                <div class="loading" id="loadingIndicator">
                    <div class="loading-spinner"></div>
                    <p>正在扫描您的GitHub仓库，请稍候...</p>
                </div>
            `;
            
            // 重新扫描
            setTimeout(() => {
                scanRepository();
                
                // 添加扫描成功动画效果
                scanBtn.innerHTML = '<i class="fas fa-check"></i> 扫描完成';
                scanBtn.style.backgroundColor = '#28a745';
                
                setTimeout(() => {
                    scanBtn.innerHTML = '<i class="fas fa-sync-alt"></i> 扫描工具';
                    scanBtn.style.backgroundColor = '';
                }, 2000);
            }, 1000);
        });
        
        // 添加一些模拟工具数据的函数（在实际应用中不需要）
        function addMockTool() {
            const toolNames = [
                "URL编码/解码", "Base64转换器", "Markdown编辑器", 
                "PDF合并器", "文件哈希计算", "正则表达式测试器",
                "单位换算器", "汇率计算器", "文本差异比较"
            ];
            
            const toolIcons = [
                "fas fa-link", "fas fa-exchange-alt", "fas fa-edit",
                "fas fa-file-pdf", "fas fa-hashtag", "fas fa-code",
                "fas fa-ruler", "fas fa-money-bill-wave", "fas fa-file-alt"
            ];
            
            const randomIndex = Math.floor(Math.random() * toolNames.length);
            
            const newTool = {
                name: toolNames[randomIndex],
                description: "这是一个新添加的工具，提供实用功能",
                icon: toolIcons[randomIndex],
                url: `https://linsheng135.github.io/my-tools/${toolNames[randomIndex].toLowerCase().replace(/\s+/g, '-')}/`,
                folder: toolNames[randomIndex].toLowerCase().replace(/\s+/g, '-')
            };
            
            tools.push(newTool);
            updateToolsDisplay();
            updateStats();
            
            // 显示添加成功提示
            const originalText = scanBtn.textContent;
            scanBtn.innerHTML = '<i class="fas fa-plus"></i> 工具已添加';
            scanBtn.style.backgroundColor = '#28a745';
            
            setTimeout(() => {
                scanBtn.innerHTML = '<i class="fas fa-sync-alt"></i> 扫描工具';
                scanBtn.style.backgroundColor = '';
            }, 1500);
        }
        
        // 添加键盘快捷键支持
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + F 聚焦搜索框
            if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
                e.preventDefault();
                searchInput.focus();
            }
            
            // Ctrl/Cmd + R 扫描仓库
            if ((e.ctrlKey || e.metaKey) && e.key === 'r') {
                e.preventDefault();
                scanBtn.click();
            }
        });
        
        // 初始显示提示
        console.log("提示：这个页面会自动扫描GitHub仓库并显示工具。");
        console.log("在实际部署中，需要将模拟数据替换为真实的GitHub API调用。");
    </script>
</body>
</html>